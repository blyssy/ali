
<section data-ng-controller="MaterialsController">
    <ol class="breadcrumb" ng-controller="breadController" data-ng-init="materialInit()">
        <li ng-repeat="item in breadCrumbs">
          <a ui-sref='{{item.location}}'>{{item.name}}</a>
        </li>
    </ol>
     <form id="material-add-form" class="form-group" name="addMaterialForm" data-ng-submit="add()">
        <div class="row">
        	<label class="col-sm-4 control-label text-muted">Add New Material Type</label>
        </div>
        <div class="row">
            <span class="col-sm-5">
                <input type="text" data-ng-model="name" placeholder="Material Name" class="form-control m-b"/>
            </span>
            <span class="col-sm-2">
				<select data-ng-model="unit" class="form-control m-b" 
                	ng-options="obj.unit as obj.unit for obj in units">
                	<option value="" disabled selected>Unit of Measure</option>
        		</select>
            </span>
            <span class="col-sm-2">
            	<select data-ng-model="delivery_offset" class="form-control m-b">
            		<option value="" disabled selected>Delivery Offset</option>
            		<option value="Two Days Prior">Two Days Prior</option>
            		<option value="One Day Prior">One Day Prior</option>
            		<option value="Same Day">Same Day</option>
        		</select>
 			</span>
 			<button class="btn btn-primary " type="button">
 				<i class="fa fa-check"></i>
 				  Add
 			</button>
        </div> 
    </form> 

    <h1>Materials</h1>
    
    <table ng-table="tableMaterialsParams" class="table">
        <tbody ng-repeat="p in $data">
        <tr id="tr{{p._id}}">
            <td class="rowTd" data-title="'Name'" sortable="'name'">{{p.name}}</td>
            <td class="rowTd" data-title="'Units'" sortable="'unit'">{{p.unit}}</td>
            <td class="rowTd" data-title="'Days Offset'" sortable="'delivery_offset'">{{p.delivery_offset}}</td>
            <td class="rowTd" ><input type=button id="editRowBtn{{p._id}}" value="edit"
                                      ng-click="setMaterialsEditId(p._id)"></td>
            <td class="rowTd" ><input type=button id="deleteRowBtn{{p._id}}" value="delete"
                                      ng-click="remove(p)"></td>                          
        </tr>
        <tr ng-show="materialsEditId===p._id" ng-if="materialsEditId===p._id">
            <td colspan="5" ng-include src="'/general-tasks/views/editRow/materials.html'"></td>
        </tr>
        </tbody>
    </table>
    

</section>