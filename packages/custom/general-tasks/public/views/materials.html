<section data-ng-controller="MaterialsController" data-ng-init="init()">
    <div class="row wrapper border-bottom white-bg page-heading ng-scope">
        <div class="col-lg-10"> <!-- data-ng-controller="GeneralTasksController"> -->
          <h2>Materials List</h2>
            <ol class="breadcrumb" ng-controller="breadController" data-ng-init="materialInit()">
                <li ng-repeat="item in breadCrumbs">
                  <a ui-sref='{{item.location}}'>{{item.name}}</a>
                </li>
            </ol>
        </div>
    </div>

    <div class="wrapper wrapper-content animated fadeInRight">
        <div class="row">
          <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>Add A New Material</h5>
                </div>
                <div class="ibox-content">
                    <form id="material-add-form" class="form-group" name="addMaterialForm" data-ng-submit="add()">
                        <div class="row">
                            <span class="col-sm-5">
                                <input type="text" data-ng-model="name" placeholder="Material Name" class="form-control m-b"/>
                            </span>
                            <span class="col-sm-2">
                				<!-- <select ng-model="unit" class="form-control m-b" 
                                	ng-options="obj._id as obj.unit for obj in units">
                                	<option value="" disabled selected>Unit of Measure</option>
                        		</select> -->
                                <select ng-model="unit" class="form-control m-b" 
                                    ng-options="obj.unit for obj in units track by obj._id">
                                    <option value="" disabled selected>Unit of Measure</option>
                                </select>
                            </span>
                            <span class="col-sm-2">
                            	<select data-ng-model="delivery_offset" class="form-control m-b">
                            		<option value="" disabled selected>Delivery Offset</option>
                            		<option value="Two Days Prior">Two Days Prior</option>
                            		<option value="One Day Prior">One Day Prior</option>
                            		<option value="Same Day">Same Day</option>
                        		</select>
                 			</span>
                 			<button class="btn btn-primary " type="submit">
                 				<i class="fa fa-check"></i>
                 				  Add
                 			</button>
                        </div> 
                    </form> 
                </div>
            </div>
        </div>
    </div>
    <div class="wrapper wrapper-content animated fadeInRight">
        <div class="row">
          <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>Materials </h5>
                </div>
                <div class="ibox-content">
                    <table ng-table="tableMaterialsParams" class="table">
                        <tbody ng-repeat="p in $data">
                        <tr id="tr{{p._id}}">
                            <td class="rowTd" data-title="'Name'" sortable="'name'">{{p.name}}</td>
                            <td class="rowTd" data-title="'Units'" sortable="'unit'">{{p.unit.unit}}</td>
                            <td class="rowTd" data-title="'Days Offset'" sortable="'delivery_offset'">{{p.delivery_offset}}</td>
                            <td class="rowTd" >
                                <button class="btn btn-primary dim" type="button" ng-click="setMaterialsEditId(p._id)"><i class="fa fa-edit"></i></button>
                            </td>
                            <td class="rowTd" >
                                <button class="btn btn-danger dim" type="button" ng-click="remove(p)"><i class="fa fa-trash"></i></button>
                            </td>                         
                        </tr>
                        <tr ng-show="materialsEditId===p._id" ng-if="materialsEditId===p._id">
                            <td colspan="5" ng-include src="'/general-tasks/views/editRow/materials.html'"></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
          </div>
        </div>
    </div>
</section>